(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,n,t){e.exports=t.p+"static/media/1F60D_color.cc9d9dcd.png"},16:function(e,n,t){e.exports=t.p+"static/media/1F62A_color.0917a201.png"},17:function(e,n,t){e.exports=t.p+"static/media/1F603_color.1ec848d8.png"},18:function(e,n,t){e.exports=t.p+"static/media/1F624_color.731f977d.png"},21:function(e,n,t){e.exports=t.p+"static/media/Spotify_Icon_CMYK_White.d0d7f784.png"},24:function(e,n,t){e.exports=t(35)},29:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(13),o=t.n(i),l=(t(29),t(3)),c=t(4),s=t(6),u=t(5),d=t(8),h=t(7),f=t(1),m=t(2),p=t(14),y=t.n(p),g=t(15),v=t.n(g),b=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:v.a,width:"70px"})}}]),n}(a.Component),j=t(16),O=t.n(j),k=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:O.a,width:"70px"})}}]),n}(a.Component),x=t(17),S=t.n(x),E=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:S.a,width:"70px"})}}]),n}(a.Component),C=t(18),w=t.n(C),P=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:w.a,width:"70px"})}}]),n}(a.Component);function F(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    font-family: Arial;\n    font-style: italic;\n"]);return F=function(){return e},e}function M(){var e=Object(f.a)(["\n    font-size: 18px;\n    padding-bottom: 5px;\n"]);return M=function(){return e},e}function I(){var e=Object(f.a)([""]);return I=function(){return e},e}function B(){var e=Object(f.a)(["\n    font-weight: 800;\n"]);return B=function(){return e},e}function D(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    font-size: 45px;\n    padding-bottom: 5px;\n"]);return D=function(){return e},e}var T=m.a.div(D()),U=m.a.div(B()),W=m.a.div(I()),_=m.a.div(M()),z=m.a.div(F()),H=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement(z,null,r.a.createElement(T,null,r.a.createElement(E,null),r.a.createElement(b,null),r.a.createElement(U,null,"mood"),r.a.createElement(W,null,"-sort"),r.a.createElement(P,null),r.a.createElement(k,null)),r.a.createElement(_,null,"sort large, unkept playlists into smaller playlists by mood")):r.a.createElement(z,null,r.a.createElement(T,null,r.a.createElement(E,null),r.a.createElement(b,null),r.a.createElement(U,null,"mood"),r.a.createElement(W,null,"-sort"),r.a.createElement(P,null),r.a.createElement(k,null)),r.a.createElement(_,null,"sort large, unkept playlists into smaller playlists by mood"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_,null,"log into spotify to get started"))}}]),n}(a.Component);function A(){var e=Object(f.a)(["\n  margin-bottom: 10px;\n"]);return A=function(){return e},e}function N(){var e=Object(f.a)(["\n  cursor: pointer;\n  background-color: #BBBEFF;\n  border-radius: 10px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size:  14px;\n  "]);return N=function(){return e},e}function L(){var e=Object(f.a)(["\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 5px;\n  background-color: #BBBEFF;\n  width: 140px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  :focus {\n    outline: none;\n  }\n"]);return L=function(){return e},e}function R(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 10px;\n  margin-right: 100px;\n"]);return R=function(){return e},e}var Y=m.a.div(R()),J=m.a.select(L()),K=m.a.option(N()),$=m.a.div(A()),q=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).state={value:t.props.value},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"handleChange",value:function(e){this.props.handlePlaylistChange(e)}},{key:"render",value:function(){return r.a.createElement(Y,null,r.a.createElement($,null,"Choose One of Your Playlists to Sort:"),r.a.createElement(J,{value:this.props.value,onChange:this.handleChange},r.a.createElement(K,{value:""},"Choose a Playlist"),r.a.createElement(K,{name:"liked",value:"liked"},"Liked Songs"),this.props.titles.map((function(e){return r.a.createElement(K,{name:e.name,value:e.id},e.name)}))))}}]),n}(a.Component);function G(){var e=Object(f.a)(["\n    cursor: pointer;\n    height: 20px;\n    width: 20px;\n    :hover {\n        background-color: #BBBEFF;\n    }\n"]);return G=function(){return e},e}var Q=m.a.input(G()),V=function(e){var n=e.type,t=void 0===n?"checkbox":n,a=e.name,i=e.checked,o=void 0!==i&&i,l=e.onChange;return r.a.createElement(Q,{type:t,name:a,checked:o,onChange:l})};function X(){var e=Object(f.a)(["\n\n"]);return X=function(){return e},e}function Z(){var e=Object(f.a)(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return Z=function(){return e},e}function ee(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ne=function(){return e},e}var te=m.a.div(ne()),ae=m.a.div(ee()),re=m.a.span(Z()),ie=m.a.div(X()),oe=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).state={checkedItems:new Map},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"handleChange",value:function(e){this.props.handleMoodChange(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(te,null,r.a.createElement(ie,null,"Choose the Moods You Want Your Playlist Sorted Into:"),this.props.moods.map((function(n){return r.a.createElement(ae,null,r.a.createElement(V,{name:n.name,checked:e.props.checkedItems.get(n.name),onChange:e.handleChange}),r.a.createElement(re,null,n.name))})))}}]),n}(r.a.Component);function le(){var e=Object(f.a)(["\n    cursor: pointer;\n    display: flex;\n    padding: 10px;\n    justify-content: center;\n    align-items: center;\n    background-color: #424FFF;\n    width: 200px;\n    border-radius: 20px;\n    color: white;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    margin-bottom: 20px;\n    :focus {\n        outline: none;\n      }\n    "]);return le=function(){return e},e}var ce=m.a.button(le()),se=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(ce,{onClick:this.props.onClick},"Sort Your Playlists!")}}]),n}(a.Component),ue=t(21),de=t.n(ue);function he(){var e=Object(f.a)(["\n    display: flex;\n    padding: 10px;\n    justify-content: center;\n    align-items: center;\n    background-color: #424FFF;\n    width: 200px;\n    border-radius: 20px;\n"]);return he=function(){return e},e}function fe(){var e=Object(f.a)(["\n    color: white;\n    text-decoration: none;\n    padding-left: 15px;\n"]);return fe=function(){return e},e}var me=m.a.a(fe()),pe=m.a.div(he()),ye=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(pe,null,r.a.createElement("img",{alt:"spotify logo",src:de.a,style:{width:30}}),r.a.createElement(me,{href:"/login"},"Log in to Spotify"))}}]),n}(a.Component);function ge(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: ",";\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    margin: 50px;\n    margin-top: 50px;\n"]);return ge=function(){return e},e}function ve(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: 50px;\n"]);return ve=function(){return e},e}var be=new y.a,je=m.a.div(ve()),Oe=m.a.div(ge(),(function(e){return e.isMobile?"column":"row"})),ke=[{name:"good vibes",key:1,label:"good vibes"},{name:"chill",key:2,label:"chill"},{name:"bag",key:3,label:"bag"},{name:"hype",key:4,label:"hype"}],xe=function(e){function n(){var e;Object(l.a)(this,n);var t=(e=Object(s.a)(this,Object(u.a)(n).call(this))).getHashParams();return t.access_token&&be.setAccessToken(t.access_token),e.state={loggedIn:!!t.access_token,userID:e.getUsername(),playlists:[],selectedPlaylistSongs:[],moods:new Map,chosenPlaylist:{},numCreated:0,isMobile:!1},e.handleMoodChange=e.handleMoodChange.bind(Object(d.a)(e)),e.handlePlaylistChange=e.handlePlaylistChange.bind(Object(d.a)(e)),e.getSavedSongs=e.getSavedSongs.bind(Object(d.a)(e)),e.updateWindowDimensions=e.updateWindowDimensions.bind(Object(d.a)(e)),e}return Object(h.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getPlaylists(),this.getSavedSongs(50,0),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){window.innerWidth<725?this.setState({isMobile:!0}):this.setState({isMobile:!1})}},{key:"getHashParams",value:function(){for(var e,n={},t=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);e=t.exec(a);)n[e[1]]=decodeURIComponent(e[2]);return n}},{key:"getUsername",value:function(){var e=this;be.getMe().then((function(n){e.setState({userID:n.id})}))}},{key:"getPlaylists",value:function(){var e=this;be.getUserPlaylists().then((function(n){var t,a=!0,r=!1,i=void 0;try{for(var o,l=n.items[Symbol.iterator]();!(a=(o=l.next()).done);a=!0)t=o.value,e.setState((function(e){var n=e.playlists.concat({name:t.name,id:t.id,length:t.tracks.total});return console.log(t.tracks.total),{playlists:n}}))}catch(c){r=!0,i=c}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}}))}},{key:"getSavedSongs",value:function(e,n){var t=this;be.getMySavedTracks({limit:e,offset:n}).then((function(a){var r,i=!0,o=!1,l=void 0;try{for(var c,s=a.items[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)r=c.value,t.setState((function(e){return{selectedPlaylistSongs:e.selectedPlaylistSongs.concat({name:r.track.name,uri:r.track.uri,id:r.track.id})}}))}catch(u){o=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}t.state.selectedPlaylistSongs.length<a.total&&t.getSavedSongs(e,n+e)}))}},{key:"getPlaylistSongs",value:function(e){for(var n=this,t=this.state.playlists.find((function(n){return n.id===e})),a=Math.ceil(t.length/100),r=[],i=0;i<a;i++)r.push(e);Promise.all(r.map((function(e,n){return be.getPlaylistTracks("",e,{offset:100*n})}))).then((function(e){var t,a,r=!0,i=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){a=l.value;var s=!0,u=!1,d=void 0;try{for(var h,f=a.items[Symbol.iterator]();!(s=(h=f.next()).done);s=!0)t=h.value,n.setState((function(e){return{selectedPlaylistSongs:e.selectedPlaylistSongs.concat({name:t.track.name,uri:t.track.uri,id:t.track.id})}}))}catch(m){u=!0,d=m}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}}}catch(m){i=!0,o=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}n.sortSongs()}))}},{key:"sortSongs",value:function(){var e,n=this,t=[[]],a=0,r=!0,i=!1,o=void 0;try{for(var l,c=this.state.selectedPlaylistSongs[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)e=l.value,100===t[a].length&&(a+=1,t.push([])),t[a].push(e.id)}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}Promise.all(t.map((function(e){return be.getAudioFeaturesForTracks(e)}))).then((function(e){var t,a,r;console.log(e);var i=[[]],o=[[]],l=[[]],c=[[]],u=!0,d=!1,h=void 0;try{for(var f,m=e[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){a=f.value;var p=!0,y=!1,g=void 0;try{for(var v,b=a.audio_features[Symbol.iterator]();!(p=(v=b.next()).done);p=!0)"chill"===(r=(t=v.value).energy>.8||t.danceability>.8?"hype":t.energy>.65&&t.danceability>.5&&t.valence>.4?"good vibes":t.valence<.5&&t.energy<.5?"bag":"chill")?(100===i[i.length-1].length&&i.push([]),i[i.length-1].push(t.uri)):"good vibes"===r?(100===l[l.length-1].length&&l.push([]),l[l.length-1].push(t.uri)):"bag"===r?(100===c[c.length-1].length&&c.push([]),c[c.length-1].push(t.uri)):"hype"===r&&(100===o[o.length-1].length&&o.push([]),o[o.length-1].push(t.uri))}catch(s){y=!0,g=s}finally{try{p||null==b.return||b.return()}finally{if(y)throw g}}}}catch(s){d=!0,h=s}finally{try{u||null==m.return||m.return()}finally{if(d)throw h}}var j=[],O=!0,k=!1,x=void 0;try{for(var S,E=n.state.moods[Symbol.iterator]();!(O=(S=E.next()).done);O=!0)(r=S.value)[1]&&j.push(r[0])}catch(s){k=!0,x=s}finally{try{O||null==E.return||E.return()}finally{if(k)throw x}}j.map((function(e){be.createPlaylist(n.state.userID,{name:e+" songs of "+n.state.chosenPlaylist.name,description:"Created by mood-sort from "+n.state.chosenPlaylist.name+" playlist"}).then((function(n){"bag"===e&&0!==c[0].length?c.map((function(e){be.addTracksToPlaylist("",n.id,e)})):"hype"===e&&0!==o[0].length?o.map((function(e){be.addTracksToPlaylist("",n.id,e)})):"good vibes"===e&&0!==l[0].length?l.map((function(e){be.addTracksToPlaylist("",n.id,e)})):"chill"===e&&0!==i[0].length&&i.map((function(e){be.addTracksToPlaylist("",n.id,e)}))}))}))}))}},{key:"handleMoodChange",value:function(e){var n=e.target.name,t=e.target.checked;this.setState((function(e){return{moods:e.moods.set(n,t)}}))}},{key:"handlePlaylistChange",value:function(e){var n=e.target,t=n.options,a=n.selectedIndex;this.setState({chosenPlaylist:{name:t[a].innerHTML,id:e.target.value}})}},{key:"goButtonClicked",value:function(){"liked"===this.state.chosenPlaylist.id?this.sortSongs():(this.setState({selectedPlaylistSongs:[]}),this.getPlaylistSongs(this.state.chosenPlaylist.id))}},{key:"render",value:function(){var e=this;return this.state.loggedIn?r.a.createElement("div",{className:"App"},r.a.createElement(je,null,r.a.createElement(H,{loggedIn:!0}),r.a.createElement(Oe,{isMobile:this.state.isMobile},r.a.createElement(q,{titles:this.state.playlists,handlePlaylistChange:this.handlePlaylistChange,value:this.state.chosenPlaylist.id}),r.a.createElement(oe,{moods:ke,handleMoodChange:this.handleMoodChange,checkedItems:this.state.moods})),r.a.createElement(se,{onClick:function(){return e.goButtonClicked()}}))):r.a.createElement(je,{className:"App"},r.a.createElement(H,{loggedIn:!1}),r.a.createElement(ye,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.33948fd7.chunk.js.map