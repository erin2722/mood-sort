(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,n,t){e.exports=t.p+"static/media/1F60D_color.cc9d9dcd.png"},16:function(e,n,t){e.exports=t.p+"static/media/1F62A_color.0917a201.png"},17:function(e,n,t){e.exports=t.p+"static/media/1F603_color.1ec848d8.png"},18:function(e,n,t){e.exports=t.p+"static/media/1F624_color.731f977d.png"},21:function(e,n,t){e.exports=t.p+"static/media/Spotify_Icon_CMYK_White.d0d7f784.png"},24:function(e,n,t){e.exports=t(35)},29:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(13),o=t.n(i),l=(t(29),t(3)),c=t(4),s=t(6),u=t(5),d=t(8),h=t(7),f=t(1),m=t(2),p=t(14),g=t.n(p),y=t(15),b=t.n(y),v=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:b.a,width:"70px"})}}]),n}(a.Component),j=t(16),O=t.n(j),k=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:O.a,width:"70px"})}}]),n}(a.Component),x=t(17),S=t.n(x),C=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:S.a,width:"70px"})}}]),n}(a.Component),E=t(18),w=t.n(E),M=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{src:w.a,width:"70px"})}}]),n}(a.Component);function P(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    font-family: Arial;\n    font-style: italic;\n"]);return P=function(){return e},e}function F(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n"]);return F=function(){return e},e}function I(){var e=Object(f.a)(["\n    font-size: 18px;\n    padding-bottom: ",";\n"]);return I=function(){return e},e}function B(){var e=Object(f.a)([""]);return B=function(){return e},e}function D(){var e=Object(f.a)(["\n    font-weight: 800;\n"]);return D=function(){return e},e}function U(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: ",";\n    align-items: center;\n"]);return U=function(){return e},e}function A(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    font-size: 45px;\n    padding-bottom: 5px;\n"]);return A=function(){return e},e}var T=m.a.div(A()),W=m.a.div(U(),(function(e){return e.isMobile?"column":"row"})),_=m.a.div(D()),H=m.a.div(B()),z=m.a.div(I(),(function(e){return e.isMobile?"0px":"5px;"})),N=m.a.div(F()),R=m.a.div(P()),Y=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement(R,null,r.a.createElement(W,{isMobile:this.props.isMobile},r.a.createElement(N,null,r.a.createElement(C,null),r.a.createElement(v,null)),r.a.createElement(T,null,r.a.createElement(_,null,"mood"),r.a.createElement(H,null,"-sort")),r.a.createElement(N,null,r.a.createElement(M,null),r.a.createElement(k,null))),r.a.createElement(z,null,"sort large, unkept playlists into smaller playlists by mood")):r.a.createElement(R,null,r.a.createElement(T,null,r.a.createElement(C,null),r.a.createElement(v,null),r.a.createElement(_,null,"mood"),r.a.createElement(H,null,"-sort"),r.a.createElement(M,null),r.a.createElement(k,null)),r.a.createElement(z,null,"sort large, unkept playlists into smaller playlists by mood"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z,null,"log into spotify to get started"))}}]),n}(a.Component);function L(){var e=Object(f.a)(["\n  margin-bottom: 10px;\n"]);return L=function(){return e},e}function J(){var e=Object(f.a)(["\n  cursor: pointer;\n  background-color: #BBBEFF;\n  border-radius: 10px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size:  14px;\n  "]);return J=function(){return e},e}function K(){var e=Object(f.a)(["\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 5px;\n  background-color: #BBBEFF;\n  width: 140px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 14px;\n  :focus {\n    outline: none;\n  }\n"]);return K=function(){return e},e}function $(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: ",";\n  margin-bottom: 15px;\n  margin-right: 100px;\n"]);return $=function(){return e},e}var q=m.a.div($(),(function(e){return e.isMobile?"0px":"10px"})),G=m.a.select(K()),Q=m.a.option(J()),V=m.a.div(L()),X=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).state={value:t.props.value},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"handleChange",value:function(e){this.props.handlePlaylistChange(e)}},{key:"render",value:function(){return r.a.createElement(q,{isMobile:this.props.isMobile},r.a.createElement(V,null,"Choose One of Your Playlists to Sort:"),r.a.createElement(G,{value:this.props.value,onChange:this.handleChange},r.a.createElement(Q,{value:""},"Choose a Playlist"),r.a.createElement(Q,{name:"liked",value:"liked"},"Liked Songs"),this.props.titles.map((function(e){return r.a.createElement(Q,{name:e.name,value:e.id},e.name)}))))}}]),n}(a.Component);function Z(){var e=Object(f.a)(["\n    cursor: pointer;\n    height: 20px;\n    width: 20px;\n    :hover {\n        background-color: #BBBEFF;\n    }\n"]);return Z=function(){return e},e}var ee=m.a.input(Z()),ne=function(e){var n=e.type,t=void 0===n?"checkbox":n,a=e.name,i=e.checked,o=void 0!==i&&i,l=e.onChange;return r.a.createElement(ee,{type:t,name:a,checked:o,onChange:l})};function te(){var e=Object(f.a)(["\n\n"]);return te=function(){return e},e}function ae(){var e=Object(f.a)(["\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return ae=function(){return e},e}function re(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n"]);return re=function(){return e},e}function ie(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ie=function(){return e},e}var oe=m.a.div(ie()),le=m.a.div(re()),ce=m.a.span(ae()),se=m.a.div(te()),ue=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).state={checkedItems:new Map},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"handleChange",value:function(e){this.props.handleMoodChange(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(oe,null,r.a.createElement(se,null,"Choose the Moods You Want Your Playlist Sorted Into:"),this.props.moods.map((function(n){return r.a.createElement(le,null,r.a.createElement(ne,{name:n.name,checked:e.props.checkedItems.get(n.name),onChange:e.handleChange}),r.a.createElement(ce,null,n.name))})))}}]),n}(r.a.Component);function de(){var e=Object(f.a)(["\n    cursor: pointer;\n    display: flex;\n    padding: 10px;\n    justify-content: center;\n    align-items: center;\n    background-color: #424FFF;\n    width: 200px;\n    border-radius: 20px;\n    color: white;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    margin-bottom: 20px;\n    :focus {\n        outline: none;\n      }\n    "]);return de=function(){return e},e}var he=m.a.button(de()),fe=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(he,{onClick:this.props.onClick},"Sort Your Playlists!")}}]),n}(a.Component),me=t(21),pe=t.n(me);function ge(){var e=Object(f.a)(["\n    display: flex;\n    padding: 10px;\n    justify-content: center;\n    align-items: center;\n    background-color: #424FFF;\n    width: 200px;\n    border-radius: 20px;\n"]);return ge=function(){return e},e}function ye(){var e=Object(f.a)(["\n    color: white;\n    text-decoration: none;\n    padding-left: 15px;\n"]);return ye=function(){return e},e}var be=m.a.a(ye()),ve=m.a.div(ge()),je=function(e){function n(){return Object(l.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(ve,null,r.a.createElement("img",{alt:"spotify logo",src:pe.a,style:{width:30}}),r.a.createElement(be,{href:"/login"},"Log in to Spotify"))}}]),n}(a.Component);function Oe(){var e=Object(f.a)(["\n    cursor: pointer;\n    color: white;\n    background-color: #424FFF;\n"]);return Oe=function(){return e},e}function ke(){var e=Object(f.a)(["\n    padding-bottom: 10px;\n"]);return ke=function(){return e},e}function xe(){var e=Object(f.a)(["\n    position: absolute;\n    display: ",";\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    padding: 10px;\n    width: 50%;\n    background-color: #424FFF;\n    border-radius: 15px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return xe=function(){return e},e}var Se=m.a.div(xe(),(function(e){return e.alert?"flex":"none"})),Ce=m.a.div(ke()),Ee=m.a.button(Oe()),we=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"handleChange",value:function(e){this.props.handleAlertChange(e),window.location.reload(!1)}},{key:"render",value:function(){return r.a.createElement(Se,{alert:this.props.alert},r.a.createElement(Ce,null,"Check You Spotify Account!"),r.a.createElement(Ee,{onClick:this.handleChange},"Close"))}}]),n}(r.a.Component);function Me(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: ",";\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    margin: ",";\n"]);return Me=function(){return e},e}function Pe(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: ",";\n"]);return Pe=function(){return e},e}var Fe=new g.a,Ie=m.a.div(Pe(),(function(e){return e.isMobile?"20px":"50px"})),Be=m.a.div(Me(),(function(e){return e.isMobile?"column":"row"}),(function(e){return e.isMobile?"5px":"50px"})),De=[{name:"good vibes",key:1,label:"good vibes"},{name:"chill",key:2,label:"chill"},{name:"sad",key:3,label:"bag"},{name:"hype",key:4,label:"hype"}],Ue=function(e){function n(){var e;Object(l.a)(this,n);var t=(e=Object(s.a)(this,Object(u.a)(n).call(this))).getHashParams();return t.access_token&&Fe.setAccessToken(t.access_token),e.state={loggedIn:!!t.access_token,userID:e.getUsername(),playlists:[],selectedPlaylistSongs:[],moods:new Map,chosenPlaylist:{},numCreated:0,alert:!1,isMobile:!1},e.handleMoodChange=e.handleMoodChange.bind(Object(d.a)(e)),e.handlePlaylistChange=e.handlePlaylistChange.bind(Object(d.a)(e)),e.handleAlertChange=e.handleAlertChange.bind(Object(d.a)(e)),e.getSavedSongs=e.getSavedSongs.bind(Object(d.a)(e)),e.updateWindowDimensions=e.updateWindowDimensions.bind(Object(d.a)(e)),e}return Object(h.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getPlaylists(50,0),this.getSavedSongs(50,0),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){window.innerWidth<725?this.setState({isMobile:!0}):this.setState({isMobile:!1})}},{key:"getHashParams",value:function(){for(var e,n={},t=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);e=t.exec(a);)n[e[1]]=decodeURIComponent(e[2]);return n}},{key:"getUsername",value:function(){var e=this;Fe.getMe().then((function(n){e.setState({userID:n.id})}))}},{key:"getPlaylists",value:function(e,n){var t=this;Fe.getUserPlaylists({limit:e,offset:n}).then((function(a){var r;console.log(a.total);var i=!0,o=!1,l=void 0;try{for(var c,s=a.items[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)r=c.value,t.setState((function(e){return{playlists:e.playlists.concat({name:r.name,id:r.id,length:r.tracks.total})}}))}catch(u){o=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}t.state.playlists.length<a.total&&t.getPlaylists(e,n+e)}))}},{key:"getSavedSongs",value:function(e,n){var t=this;Fe.getMySavedTracks({limit:e,offset:n}).then((function(a){var r,i=!0,o=!1,l=void 0;try{for(var c,s=a.items[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)r=c.value,t.setState((function(e){return{selectedPlaylistSongs:e.selectedPlaylistSongs.concat({name:r.track.name,uri:r.track.uri,id:r.track.id})}}))}catch(u){o=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}t.state.selectedPlaylistSongs.length<a.total&&t.getSavedSongs(e,n+e)}))}},{key:"getPlaylistSongs",value:function(e){for(var n=this,t=this.state.playlists.find((function(n){return n.id===e})),a=Math.ceil(t.length/100),r=[],i=0;i<a;i++)r.push(e);Promise.all(r.map((function(e,n){return Fe.getPlaylistTracks("",e,{offset:100*n})}))).then((function(e){var t,a,r=!0,i=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){a=l.value;var s=!0,u=!1,d=void 0;try{for(var h,f=a.items[Symbol.iterator]();!(s=(h=f.next()).done);s=!0)t=h.value,n.setState((function(e){return{selectedPlaylistSongs:e.selectedPlaylistSongs.concat({name:t.track.name,uri:t.track.uri,id:t.track.id})}}))}catch(m){u=!0,d=m}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}}}catch(m){i=!0,o=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}n.sortSongs()}))}},{key:"sortSongs",value:function(){var e,n=this,t=[[]],a=0,r=!0,i=!1,o=void 0;try{for(var l,c=this.state.selectedPlaylistSongs[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)e=l.value,100===t[a].length&&(a+=1,t.push([])),t[a].push(e.id)}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}Promise.all(t.map((function(e){return Fe.getAudioFeaturesForTracks(e)}))).then((function(e){var t,a,r;console.log(e);var i=[[]],o=[[]],l=[[]],c=[[]],u=!0,d=!1,h=void 0;try{for(var f,m=e[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){a=f.value;var p=!0,g=!1,y=void 0;try{for(var b,v=a.audio_features[Symbol.iterator]();!(p=(b=v.next()).done);p=!0)"chill"===(r=(t=b.value).energy>.8||t.danceability>.8?"hype":t.energy>.65&&t.danceability>.5&&t.valence>.4?"good vibes":t.valence<.5&&t.energy<.5?"bag":"chill")?(100===i[i.length-1].length&&i.push([]),i[i.length-1].push(t.uri)):"good vibes"===r?(100===l[l.length-1].length&&l.push([]),l[l.length-1].push(t.uri)):"bag"===r?(100===c[c.length-1].length&&c.push([]),c[c.length-1].push(t.uri)):"hype"===r&&(100===o[o.length-1].length&&o.push([]),o[o.length-1].push(t.uri))}catch(s){g=!0,y=s}finally{try{p||null==v.return||v.return()}finally{if(g)throw y}}}}catch(s){d=!0,h=s}finally{try{u||null==m.return||m.return()}finally{if(d)throw h}}var j=[],O=!0,k=!1,x=void 0;try{for(var S,C=n.state.moods[Symbol.iterator]();!(O=(S=C.next()).done);O=!0)(r=S.value)[1]&&j.push(r[0])}catch(s){k=!0,x=s}finally{try{O||null==C.return||C.return()}finally{if(k)throw x}}j.map((function(e){Fe.createPlaylist(n.state.userID,{name:e+" songs of "+n.state.chosenPlaylist.name,description:"Created by mood-sort from "+n.state.chosenPlaylist.name+" playlist"}).then((function(t){"sad"===e&&0!==c[0].length?c.map((function(e){Fe.addTracksToPlaylist("",t.id,e)})):"hype"===e&&0!==o[0].length?o.map((function(e){Fe.addTracksToPlaylist("",t.id,e)})):"good vibes"===e&&0!==l[0].length?l.map((function(e){Fe.addTracksToPlaylist("",t.id,e)})):"chill"===e&&0!==i[0].length&&i.map((function(e){Fe.addTracksToPlaylist("",t.id,e)})),n.setState({alert:!0})}))}))}))}},{key:"handleMoodChange",value:function(e){var n=e.target.name,t=e.target.checked;this.setState((function(e){return{moods:e.moods.set(n,t)}}))}},{key:"handlePlaylistChange",value:function(e){var n=e.target,t=n.options,a=n.selectedIndex;this.setState({chosenPlaylist:{name:t[a].innerHTML,id:e.target.value}})}},{key:"handleAlertChange",value:function(e){this.setState({alert:!this.state.alert})}},{key:"goButtonClicked",value:function(){"liked"===this.state.chosenPlaylist.id?this.sortSongs():(this.setState({selectedPlaylistSongs:[]}),this.getPlaylistSongs(this.state.chosenPlaylist.id))}},{key:"render",value:function(){var e=this;return this.state.loggedIn?r.a.createElement("div",{className:"App"},r.a.createElement(Ie,{isMobile:this.state.isMobile},r.a.createElement(Y,{loggedIn:!0,isMobile:this.state.isMobile}),r.a.createElement(Be,{isMobile:this.state.isMobile},r.a.createElement(X,{titles:this.state.playlists,handlePlaylistChange:this.handlePlaylistChange,value:this.state.chosenPlaylist.id,isMobile:this.state.isMobile}),r.a.createElement(ue,{moods:De,handleMoodChange:this.handleMoodChange,checkedItems:this.state.moods})),r.a.createElement(we,{handleAlertChange:this.handleAlertChange,alert:this.state.alert}),r.a.createElement(fe,{onClick:function(){return e.goButtonClicked()}}))):r.a.createElement(Ie,{className:"App"},r.a.createElement(Y,{loggedIn:!1,isMobile:this.state.isMobile}),r.a.createElement(je,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.4d124510.chunk.js.map